# This is a basic workflow to help you get started with Actions

name: Push to Knowledge Based

on:
  release:
    types: [published]
  push:
    branch: [before_curl]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Pushes to another repository
        env:
          API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
          SRC_DIR: 'docs'
          DEST_GITHUB_USERNAME: 'rochmadnurdin'
          DEST_GITHUB_REPO: 'knowledgebase'
          USER_EMAIL: dev@alterra.id
          DEST_BRANCH: BPA
          INITIATIVE_NAME: BPA
          SYSTEM_NAME: Civet
        run: |
          sudo apt install curl
          sh entrypoint.sh

      #   uses: rochmadnurdin/System@master
      #   env:
      #     API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
      #   with:
      #     source-directory: 'docs'
      #     destination-github-username: 'rochmadnurdin'
      #     destination-repository-name: 'knowledgebase'
      #     user-email: dev@alterra.id
      #     destination-branch: master
      #     initiative-name: BPA
      #     system-name: Civet

